# Legacy OODA Inventory

This document lists candidate files and components related to legacy OODA or workflow helpers that may be eligible for cleanup.

Candidates discovered (path -> reason):
- `scripts/start-workflow-tmux.sh` - tmux helper script used to start the workflow tmux session; heavy runtime/host dependency.
- `scripts/parse-workflow-config.js` - references tmux window defaults; used by the tmux helper.
- `src/commands/startWork.ts` - integrates tmux pane/window handling (spawns tmux); host-specific tooling.
- `src/commands/ask.ts` - includes tmux pane detection and optional tmux interactions.
- `src/commands/ooda.ts` - primary OODA scheduler/CLI implementation (not "legacy" but included for cross-reference). Review for deprecated subcommands like `ooda-legacy`.
- `tests/integration/ooda-*` and `tests/*-e2e.test.ts` - integration and E2E tests that exercise OODA scheduler and snapshot features; careful review required before removing code that tests rely on.

Search notes:
- Grepped for keywords: `tmux`, `ooda-legacy`, `probe`, `waif-ooda`, `ooda` across `scripts/`, `plugins/`, `src/`, and `tests/`.
- The tmux scripts and commands are the most likely candidates for removal if the project no longer maintains tmux-based workflows.

Rationale for removal
- `tmux`-based helpers increase operational complexity and require installing `tmux` on developer machines or CI images.
- If project workflow moves to containerized or non-interactive automation, these scripts provide little value.

Risk assessment
- High: `src/commands/ask.ts` and `src/commands/startWork.ts` are part of the CLI surface; removing them without migration will break existing user workflows.
- Medium: test suites referencing these files will fail; CI workflows invoking `start-workflow-tmux.sh` or relying on tmux behavior will break.
- Low: pure scripts in `scripts/` that are not invoked by tests or CI can be safely removed after manual verification.

Rollback plan
- Remove files in a staged branch with tests updated in parallel.
- Keep a branch with the removed files (do not delete history) and include a clear PR that lists all removed files and the reason.
- If CI or tests fail after removal, revert the branch (git revert or restore from branch) and reintroduce the files.

Tests impacted
- `tests/integration/ooda-scheduler-e2e.test.ts` and other `ooda` integration tests may rely on CLI behavior; run full test suite after any removal.
- Any E2E tests that use tmux or rely on pane titles/behavior will need to be rewritten to call CLI programmatically or mocked.

Next steps
1. Review actual usage of `scripts/start-workflow-tmux.sh` in documentation and CI. If unused, mark for removal.
2. Identify which CLI commands (ask, startWork) are considered deprecated and announce plan.
3. Create focused PR to remove low-risk scripts first, update tests in separate PRs, and then remove higher-risk CLI code with migration guidance.

Generated by automation on branch `feature/wf-e6r.cleanup-legacy`.
